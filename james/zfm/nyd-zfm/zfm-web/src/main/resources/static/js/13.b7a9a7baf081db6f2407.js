webpackJsonp([13],{"56rN":function(e,t){},MP5Y:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a("ZLEe"),o=a.n(r),l=a("cMGX"),n=a("gyMJ"),i=function(e,t,a){if(o()(t).length<1)return a(new Error("请选择提醒人员"));a()},s={data:function(){return{orderNos:[],RemindPeopleAry:[],dialogvisible:!1,distributeDate:[],formData:{custName:"",mobile:"",source:"",loanNo:"",pageNo:1,pageSize:10,paymentDaysArry:["0","1","2"],paymentDays:""},currentPage:1,total:0,tableData:[],backform:{nameInfo:{}},backformRules:{nameInfo:[{validator:i,trigger:"change"}]}}},mounted:function(){this.getReadyDistributionList()},methods:{orderAllocationToUser:function(){var e=this;this.$refs.backform.validate(function(t){t&&n.a.doDistribution({orderNos:e.orderNos,receiveUserId:e.backform.nameInfo.id,receiveUserName:e.backform.nameInfo.loginName}).then(function(t){t.data.success&&(e.$message({message:t.data.msg,type:"success"}),e.getReadyDistributionList(),e.dialogvisible=!1,e.orderNos=[])})})},distribute:function(){this.orderNos.length>0?(this.getCreditTrialUsersList(),this.dialogvisible=!0):this.$message({message:"请至少选中一条数据",type:"warning"})},getCreditTrialUsersList:function(){var e=this;n.a.getCreditTrialUsersList({}).then(function(t){t.data.success&&(e.RemindPeopleAry=t.data.data)})},handleSelectionChange:function(e){for(var t in this.orderNos=[],e)this.orderNos.push(e[t].orderNo)},search:function(){this.formData.pageNo=1,this.formData.pageSize=10,this.currentPage=1,this.getReadyDistributionList()},handleSizeChange:function(e){this.currentPage=1,this.formData.pageNo=1,this.formData.pageSize=e,this.getReadyDistributionList()},handleCurrentChange:function(e){this.formData.pageNo=e,this.currentPage=e,this.getReadyDistributionList()},getReadyDistributionList:function(){var e=this;this.formData.paymentDaysArry.length>0?this.formData.paymentDays=this.formData.paymentDaysArry.join(","):this.formData.paymentDays="",n.a.getReadyDistributionList(this.formData).then(function(t){t.data.success&&(e.tableData=t.data.data,e.total=t.data.total)})},lookDetail:function(e){var t=this.$router.resolve({path:"/distributeDetailInloan",query:{orderNo:e.orderNo,userName:e.userName,userId:e.userId,mobile:e.userMobile}});window.open(t.href)}},components:{Pagination:l.a}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"approval-orders common-query"},[a("el-card",[a("div",{staticClass:"border-1px padding-10px"},[a("div",{staticClass:"common-reset-inptu"},[a("span",[e._v("客户姓名：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.custName,callback:function(t){e.$set(e.formData,"custName",t)},expression:"formData.custName"}}),e._v(" "),a("span",{staticClass:"common-label-text"},[e._v("手机号码：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),e._v(" "),a("div",{staticClass:"common-reset-inptu"},[a("span",[e._v("注册渠道：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.source,callback:function(t){e.$set(e.formData,"source",t)},expression:"formData.source"}}),e._v(" "),a("span",{staticClass:"common-label-text"},[e._v(" 贷款编号：")]),e._v(" "),a("el-input",{attrs:{clearable:"",placeholder:"请输入"},model:{value:e.formData.loanNo,callback:function(t){e.$set(e.formData,"loanNo",t)},expression:"formData.loanNo"}}),e._v(" "),a("span",{staticClass:"common-label-text"},[e._v("距还款日：")]),e._v(" "),a("el-checkbox-group",{model:{value:e.formData.paymentDaysArry,callback:function(t){e.$set(e.formData,"paymentDaysArry",t)},expression:"formData.paymentDaysArry"}},[a("el-checkbox",{attrs:{label:"0"}}),e._v(" "),a("el-checkbox",{attrs:{label:"1"}}),e._v(" "),a("el-checkbox",{attrs:{label:"2"}})],1),e._v(" "),a("div",{staticClass:"common-flex-btn"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.search()}}},[e._v("查询")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.distribute()}}},[e._v("人工分配")])],1)],1)]),e._v(" "),a("div",{staticClass:"common-table"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:""},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{label:"全选",align:"center",type:"selection",width:"55"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"序号",type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"客户姓名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userMobile",width:"120",label:"手机号码"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"applyTime",width:"180",label:"申请日期"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"loanTime",width:"180",label:"放款日期"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"source",label:"注册渠道"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"loanNum",label:"借款期次"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"repayPrinciple",width:"180",label:"放款金额"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"promiseRepaymentDate",width:"180",label:"应还日期"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"lessDays",width:"180",label:"距还款日"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"curRepayAmount",width:"180",label:"应还本息"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"creditTrialUserName",width:"180",label:"信审人员"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"orderNo",width:"180",label:"贷款编号"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"address",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){return e.lookDetail(t.row)}}},[e._v("查看详情")])]}}])})],1)],1),e._v(" "),a("div",{staticClass:"pagination_wrap com_cen"},[a("Pagination",{attrs:{currentPage:e.currentPage,total:e.total,myPageSizes:e.formData.pageSize},on:{handleSizeChange:e.handleSizeChange,handleCurrentChange:e.handleCurrentChange}})],1)]),e._v(" "),a("el-dialog",{attrs:{title:"分配提醒人员",visible:e.dialogvisible,"close-on-click-modal":!1,width:"30%"},on:{"update:visible":function(t){e.dialogvisible=t}}},[a("el-form",{ref:"backform",attrs:{model:e.backform,"label-width":"100px",rules:e.backformRules}},[a("el-form-item",{attrs:{label:"提醒人员：",prop:"nameInfo"}},[a("el-select",{attrs:{placeholder:"请选择提醒人员","value-key":"id",clearable:""},model:{value:e.backform.nameInfo,callback:function(t){e.$set(e.backform,"nameInfo",t)},expression:"backform.nameInfo"}},e._l(e.RemindPeopleAry,function(e){return a("el-option",{key:e.id,attrs:{label:e.loginName,value:e}})}),1)],1)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogvisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.orderAllocationToUser()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var u=a("C7Lr")(s,c,!1,function(e){a("56rN")},"data-v-95585bae",null);t.default=u.exports}});